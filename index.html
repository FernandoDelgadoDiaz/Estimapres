<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover"/>
  <title id="pageTitle">Prestify ¬∑ Tu financiera, digitalizada</title>
  <link rel="icon" href="assets/ping.png"/>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
  <style>
    /* Solo estilos cr√≠ticos - nada de display none !important */
    body.landing-active #landingView { display: block; }
    #landingView { display: none; }
    #onboardingOverlay, #adminGate, #moniView, #superadminView, #adminView, #clientView { display: none; }
    /* Estilos b√°sicos para avatares */
    .lp-avatar-img { width: 40px; height: 40px; border-radius: 50%; border: 2px solid rgba(255,255,255,.25); object-fit: cover; margin-left: -8px; }
    .lp-avatar-img:first-child { margin-left: 0; }
    .lp-avatars { display: flex; align-items: center; }
  </style>
</head>
<body>

<!-- ============================================
     SCRIPT DE INICIALIZACI√ìN - CORREGIDO
     ============================================ -->
<script>
(function() {
  // Detectar ?ref=
  const params = new URLSearchParams(location.search);
  const hasRef = params.get('ref');
  
  if (!hasRef) {
    document.body.classList.add('landing-active');
    document.getElementById('landingView').style.display = 'block';
  }
  
  // Configurar SuperAdmin
  window.SUPERADMIN_UID = 'cuQqbuHWkTWdFPdknVTUAkx5Xri2';
  window.SUPERADMIN_EMAIL = 'fernandogastondelgado81@gmail.com';
  
  // ========================================
  // MANEJADORES DE BOTONES - DIRECTOS
  // ========================================
  setTimeout(function() {
    console.log('üü¢ Inicializando botones...');
    
    // Crear cuenta
    const btnsRegister = [
      'btnLandingRegister',
      'btnLandingRegister2',
      'btnLandingRegister3'
    ];
    
    btnsRegister.forEach(function(id) {
      const btn = document.getElementById(id);
      if (btn) {
        btn.onclick = function(e) {
          e.preventDefault();
          e.stopPropagation();
          console.log('üëâ Crear cuenta clickeado');
          document.getElementById('landingView').style.display = 'none';
          const overlay = document.getElementById('onboardingOverlay');
          overlay.style.display = 'flex';
          overlay.style.setProperty('display', 'flex', 'important');
          return false;
        };
      }
    });
    
    // Iniciar sesi√≥n
    const loginBtn = document.getElementById('btnLandingLogin');
    if (loginBtn) {
      loginBtn.onclick = function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log('üëâ Iniciar sesi√≥n clickeado');
        document.getElementById('landingView').style.display = 'none';
        const gate = document.getElementById('adminGate');
        gate.style.display = 'block';
        gate.style.setProperty('display', 'block', 'important');
        return false;
      };
    }
    
    // Volver al registro desde login
    const goToRegister = document.getElementById('btnGoToRegister');
    if (goToRegister) {
      goToRegister.onclick = function(e) {
        e.preventDefault();
        document.getElementById('adminGate').style.display = 'none';
        document.getElementById('landingView').style.display = 'block';
        return false;
      };
    }
    
    console.log('‚úÖ Botones inicializados');
  }, 200);
})();
</script>

<!-- ============================================
     LANDING PAGE - COMPLETA
     ============================================ -->
<div class="landing-view" id="landingView">
  <section class="lp-hero">
    <div class="lp-orb lp-orb1"></div>
    <div class="lp-orb lp-orb2"></div>
    <div class="lp-orb lp-orb3"></div>
    <div class="lp-grid-lines"></div>

    <div class="lp-hero-left">
      <div class="lp-eyebrow rv">
        <span class="lp-eyebrow-dot"></span>
        Para prestamistas independientes
      </div>

      <h1 class="lp-title rv rv-d1">
        Tu Financiera<br>
        <span class="grad-text">Digital,</span><br>
        Lista en <span class="grad-text">Minutos</span>
      </h1>

      <p class="lp-sub rv rv-d2">
        Gesti√≥n. Cobros. Crecimiento. Ilimitado.<br>
        La plataforma que digitaliza tu actividad de pr√©stamos sin c√≥digo, sin papeles, desde hoy.
      </p>

      <div class="lp-cta-row rv rv-d3">
        <button class="landing-cta" id="btnLandingRegister">
          <svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>
          Cre√° tu propia financiera
        </button>
      </div>

      <!-- SOCIAL PROOF: 4 FOTOS REALES -->
      <div class="lp-social-proof rv rv-d4">
        <div class="lp-avatars">
          <img src="assets/avatar1.jpg" alt="Prestamista feliz" class="lp-avatar-img" onerror="this.src='https://randomuser.me/api/portraits/women/44.jpg'">
          <img src="assets/avatar2.jpg" alt="Prestamista feliz" class="lp-avatar-img" onerror="this.src='https://randomuser.me/api/portraits/men/32.jpg'">
          <img src="assets/avatar3.jpg" alt="Prestamista feliz" class="lp-avatar-img" onerror="this.src='https://randomuser.me/api/portraits/women/68.jpg'">
          <img src="assets/avatar4.jpg" alt="Prestamista feliz" class="lp-avatar-img" onerror="this.src='https://randomuser.me/api/portraits/men/75.jpg'">
        </div>
        <div>
          <div class="lp-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="lp-proof-text"><strong>+200 prestamistas</strong> ya digitalizaron su negocio</div>
        </div>
      </div>

      <div class="landing-demo rv rv-d5">
        ¬øYa ten√©s cuenta? 
        <a href="#" id="btnLandingLogin">Inici√° sesi√≥n ac√°</a>
      </div>
    </div>

    <div class="lp-hero-right rv rv-right rv-d2">
      <div class="lp-person-wrap">
        <div class="lp-person-circle"></div>
        <img class="lp-person-img" src="assets/1772058267760.png" alt="App M√≥vil Prestify" loading="eager" onerror="this.style.display='none'"/>
        <div class="lp-fbadge fb-approved">
          <div class="lp-fbadge-icon green">‚úÖ</div>
          <div><span class="lp-fbadge-title">Solicitud Aprobada</span><span class="lp-fbadge-sub">hace 2 min ¬∑ $150.000</span></div>
          <span class="lp-fbadge-dot green"></span>
        </div>
        <div class="lp-fbadge fb-new">
          <div class="lp-fbadge-icon blue">üîî</div>
          <div><span class="lp-fbadge-title">Nueva solicitud</span><span class="lp-fbadge-sub">Carlos R. ¬∑ $300.000</span></div>
          <span class="lp-fbadge-dot blue"></span>
        </div>
        <div class="lp-fbadge fb-amount">
          <div class="lp-fbadge-icon purple">üí∞</div>
          <div><span class="lp-fbadge-title">Cobro recibido</span><span class="lp-fbadge-sub">Cuota 3/6 ¬∑ $32.450</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROOF STRIP -->
  <div class="lp-proof-strip rv">
    <div class="lp-proof-inner">
      <div class="lp-proof-item"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg><span>100% Digital</span></div>
      <div class="lp-proof-sep"></div>
      <div class="lp-proof-item"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg><span>Datos protegidos</span></div>
      <div class="lp-proof-sep"></div>
      <div class="lp-proof-item"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>Setup en <strong style="color:#fff">3 minutos</strong></span></div>
      <div class="lp-proof-sep"></div>
      <div class="lp-proof-item"><svg viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg><span>Firma Ley 25.506</span></div>
      <div class="lp-proof-sep"></div>
      <div class="lp-proof-item"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg><span>Soporte WhatsApp</span></div>
    </div>
  </div>

  <!-- FEATURES -->
  <section class="lp-section" id="lpFeatures">
    <div style="text-align:center">
      <span class="lp-s-label rv">‚ú¶ Todo lo que necesit√°s</span>
      <h2 class="lp-s-title rv rv-d1">Tu Financiera en <span class="grad-text">Minutos</span></h2>
      <p class="lp-s-sub rv rv-d2" style="margin:0 auto">Desde el simulador hasta el cobro, todo integrado. Sin planillas ni aplicaciones separadas.</p>
    </div>
    <div class="lp-feat-grid">
      <div class="lp-feat-card rv rv-d1"><div class="lp-feat-icon">üè¶</div><div class="lp-feat-title">Tu Marca Blanca</div><div class="lp-feat-desc">Personaliz√° con tu nombre, logo y colores. Tus clientes ven <em>tu financiera</em>, no Prestify. Identidad 100% tuya.</div></div>
      <div class="lp-feat-card rv rv-d2"><div class="lp-feat-icon">üì±</div><div class="lp-feat-title">Link de Cliente √önico</div><div class="lp-feat-desc">Compart√≠ un link. Tus clientes simulan, solicitan y firman contratos desde el celu, sin bajar ninguna app.</div></div>
      <div class="lp-feat-card rv rv-d3"><div class="lp-feat-icon">‚ö°</div><div class="lp-feat-title">Panel en Tiempo Real</div><div class="lp-feat-desc">Recib√≠ solicitudes al instante. Aprob√°, rechaz√° y gestion√° cobros desde un panel limpio y poderoso.</div></div>
      <div class="lp-feat-card rv rv-d2"><div class="lp-feat-icon">üìä</div><div class="lp-feat-title">Motor Financiero</div><div class="lp-feat-desc">Sistema franc√©s, TNA configurable y gesti√≥n de mora autom√°tica. Todo el m√∫sculo financiero que necesit√°s.</div></div>
      <div class="lp-feat-card rv rv-d3"><div class="lp-feat-icon">üí≥</div><div class="lp-feat-title">Cobro Online</div><div class="lp-feat-desc">Mercado Pago o transferencia manual. Tus clientes pagan y el sistema registra autom√°ticamente.</div></div>
      <div class="lp-feat-card rv rv-d4"><div class="lp-feat-icon">üìù</div><div class="lp-feat-title">Contratos Digitales</div><div class="lp-feat-desc">Firma electr√≥nica v√°lida (Ley 25.506) en segundos. Cero papeles, cero burocracia.</div></div>
    </div>
  </section>

  <!-- PANEL DE ADMINISTRACI√ìN - CON RECUADRO -->
  <div class="lp-bento" style="margin-bottom: 40px;">
    <div class="lp-bento-text rv rv-left">
      <span class="lp-s-label">‚ú¶ Panel de administraci√≥n</span>
      <h2 class="lp-s-title">Ponele fin a las<br><span class="grad-text">planillas de Excel</span></h2>
      <p class="lp-s-sub" style="margin-bottom:28px">Un dashboard limpio que te da el control total de tu cartera en tiempo real. Sin complicaciones.</p>
      <div class="lp-bento-check"><div class="lp-bento-check-icon"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div><span>KPIs de cartera actualizados en tiempo real</span></div>
      <div class="lp-bento-check"><div class="lp-bento-check-icon"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div><span>Notificaciones push de nuevas solicitudes</span></div>
      <div class="lp-bento-check"><div class="lp-bento-check-icon"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div><span>Gesti√≥n de mora y cobranza automatizada</span></div>
      <div class="lp-bento-check"><div class="lp-bento-check-icon"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></div><span>Acceso desde cualquier dispositivo, 24/7</span></div>
    </div>
    <div class="rv rv-right rv-d1">
      <div class="lp-bento-img-wrap">
        <img src="assets/1772058249023.png" alt="Dashboard Administrativo Prestify" class="lp-bento-screenshot" loading="lazy" onerror="this.style.display='none'"/>
      </div>
    </div>
  </div>

  <!-- CONFIANZA -->
  <section class="lp-trust-section">
    <div class="lp-trust-inner rv">
      <div class="lp-trust-text">
        <span class="lp-s-label">‚ú¶ Confianza y respaldo</span>
        <h2 class="lp-s-title">La plataforma en la que<br><span class="grad-text2">conf√≠an los mejores</span></h2>
        <p class="lp-s-sub">M√°s de 200 prestamistas independientes en toda Argentina usan Prestify para hacer crecer su negocio de forma profesional y digital.</p>
        <button class="landing-cta" id="btnLandingRegister3" style="margin-top:8px"><svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>Sumate ahora ‚Äî Es gratis</button>
      </div>
      <div class="lp-trust-img-wrap rv rv-right rv-d2">
        <img src="assets/1772058471896.png" alt="Prestamistas que conf√≠an en Prestify" class="lp-trust-img" loading="lazy" onerror="this.style.display='none'"/>
        <div class="lp-trust-badge lp-trust-badge-a"><span>üåé</span><div><strong>+200</strong> prestamistas activos</div></div>
        <div class="lp-trust-badge lp-trust-badge-b"><span>‚≠ê</span><div><strong>4.9/5</strong> satisfacci√≥n</div></div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIALES -->
  <section class="lp-test-section">
    <div style="text-align:center;margin-bottom:44px">
      <span class="lp-s-label rv">‚ú¶ Testimoniales</span>
      <h2 class="lp-s-title rv rv-d1">Prestamistas que ya<br><span class="grad-text">digitalizaron</span> su negocio</h2>
    </div>
    <div class="lp-test-grid">
      <div class="lp-test-card rv rv-d1"><div class="lp-test-header"><div class="lp-test-avatar-wrap"><div class="lp-test-avatar-initial c1">R</div></div><div class="lp-test-info"><div class="lp-test-name">Roberto M.</div><div class="lp-test-role">Prestamista independiente ¬∑ C√≥rdoba</div></div></div><div class="lp-test-stars"><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span></div><div class="lp-test-quote">"Antes llevaba todo en Excel. Ahora mis clientes entran al link, simulan y me mandan la solicitud. Yo apruebo desde el celu. Cambi√≥ todo."</div></div>
      <div class="lp-test-card rv rv-d2"><div class="lp-test-header"><div class="lp-test-avatar-wrap"><div class="lp-test-avatar-initial c2">V</div></div><div class="lp-test-info"><div class="lp-test-name">Valeria S.</div><div class="lp-test-role">Financiera Familiar ¬∑ Buenos Aires</div></div></div><div class="lp-test-stars"><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span></div><div class="lp-test-quote">"El panel me avisa cuando vence una cuota. Redujo mi mora a casi cero. Los clientes reciben recordatorio autom√°tico por WhatsApp. Genial."</div></div>
      <div class="lp-test-card rv rv-d3"><div class="lp-test-header"><div class="lp-test-avatar-wrap"><div class="lp-test-avatar-initial c3">J</div></div><div class="lp-test-info"><div class="lp-test-name">Juan P.</div><div class="lp-test-role">Inversor independiente ¬∑ Rosario</div></div></div><div class="lp-test-stars"><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span></div><div class="lp-test-quote">"En 3 minutos configur√© todo. Mis clientes ven 'Pr√©stamos Mart√≠nez', nunca supieron que uso Prestify. Es mi herramienta secreta de crecimiento."</div></div>
    </div>
  </section>

  <!-- STATS -->
  <section class="lp-stats-row">
    <div class="lp-stats-inner">
      <div class="lp-stat-box rv rv-d1"><div class="lp-stat-num">100%</div><div class="lp-stat-label">Digital</div></div>
      <div class="lp-stat-box rv rv-d2"><div class="lp-stat-num">3min</div><div class="lp-stat-label">Setup inicial</div></div>
      <div class="lp-stat-box rv rv-d3"><div class="lp-stat-num">0</div><div class="lp-stat-label">C√≥digo requerido</div></div>
      <div class="lp-stat-box rv rv-d4"><div class="lp-stat-num">‚àû</div><div class="lp-stat-label">Clientes</div></div>
    </div>
  </section>

  <!-- FINAL CTA -->
  <section class="lp-final-section">
    <div class="lp-final-inner rv">
      <h2>¬øListo para digitalizar<br>tu <span class="grad-text">financiera</span>?</h2>
      <p>Registrate gratis y empez√° a gestionar tu actividad de pr√©stamos de forma 100% profesional. Sin tarjeta de cr√©dito.</p>
      <button class="landing-cta" id="btnLandingRegister2" style="display:inline-flex;margin:0 auto"><svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>Cre√° tu cuenta ahora ‚Äî Es gratis</button>
    </div>
  </section>
</div>

<!-- ============================================
     LOGIN GATE
     ============================================ -->
<div class="admin-gate" id="adminGate" style="display: none; max-width: 400px; margin: 40px auto; padding: 30px; background: var(--navy-card); border: 1px solid var(--border-hi); border-radius: 20px;">
  <div style="text-align: center; margin-bottom: 20px;">
    <div style="width: 60px; height: 60px; border-radius: 16px; background: linear-gradient(135deg, var(--blue), var(--sky)); display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
      <svg viewBox="0 0 24 24" width="30" height="30" stroke="white" fill="none" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
    </div>
    <h3 style="color: var(--white); margin-bottom: 8px;">Iniciar sesi√≥n</h3>
    <p style="color: var(--muted); font-size: 13px;">Ingres√° tus credenciales de prestamista</p>
  </div>
  
  <input type="email" id="loginEmail" placeholder="Email" value="fernandogastondelgado81@gmail.com" style="width: 100%; padding: 14px 16px; margin-bottom: 12px; background: #071428; border: 1px solid var(--border); border-radius: 12px; color: var(--white); font-size: 15px;">
  <input type="password" id="loginPass" placeholder="Contrase√±a" style="width: 100%; padding: 14px 16px; margin-bottom: 20px; background: #071428; border: 1px solid var(--border); border-radius: 12px; color: var(--white); font-size: 15px;">
  
  <button id="btnAdminLogin" class="btn-primary" style="width: 100%; padding: 14px; margin-bottom: 12px;">Ingresar como prestamista</button>
  
  <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border); text-align: center;">
    <p style="color: var(--muted); font-size: 12px;">¬øSos SuperAdmin? <a href="#" id="btnSuperAdminLogin" style="color: var(--sky); font-weight: 600; text-decoration: none;">Acceso especial</a></p>
  </div>
  
  <div style="margin-top: 15px; text-align: center;">
    <a href="#" id="btnForgotPass" style="color: var(--sky); font-size: 12px; text-decoration: none;">¬øOlvidaste tu contrase√±a?</a>
  </div>
  
  <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border); text-align: center;">
    <p style="color: var(--muted); font-size: 12px;">¬øNo ten√©s cuenta? <a href="#" id="btnGoToRegister" style="color: var(--sky); font-weight: 600; text-decoration: none;">Registrate</a></p>
  </div>
</div>

<!-- ============================================
     ONBOARDING OVERLAY - 3 PASOS
     ============================================ -->
<div class="onboarding-overlay" id="onboardingOverlay" style="display: none;">
  <div class="onboarding-box">
    <div class="ob-steps">
      <div class="ob-step active" id="obStep1"><div class="ob-step-dot">1</div><div class="ob-step-label">DNI y Firma</div></div>
      <div class="ob-step" id="obStep2"><div class="ob-step-dot">2</div><div class="ob-step-label">Tu Negocio</div></div>
      <div class="ob-step" id="obStep3"><div class="ob-step-dot">3</div><div class="ob-step-label">M√©todo de Cobro</div></div>
    </div>

    <!-- PASO 1 -->
    <div class="ob-content active" id="obContent1">
      <div class="ob-title">Bienvenido a la plataforma</div>
      <div class="ob-subtitle">Verificamos tu identidad y acept√°s los t√©rminos de uso antes de comenzar.</div>
      
      <div class="input-row" style="margin-bottom:16px">
        <div class="field" style="margin-bottom:0"><label>Nombre completo</label><input id="obName" placeholder="Juan P√©rez"/></div>
        <div class="field" style="margin-bottom:0"><label>DNI</label><input id="obDni" inputmode="numeric" placeholder="30123456"/></div>
      </div>
      
      <div class="field" style="margin-bottom:16px"><label>Email</label><input id="obEmail" type="email" placeholder="correo@mail.com"/></div>

      <div class="ob-consent-box">
        <p><strong>T√©rminos de Uso de la Plataforma Prestify</strong></p>
        <p>Al registrarte y utilizar esta plataforma, acept√°s los siguientes t√©rminos:</p>
        <p>1. El uso de la plataforma est√° sujeto al pago de las suscripciones o tarifas vigentes seg√∫n el plan contratado.</p>
        <p>2. <strong>El administrador de la plataforma se reserva el derecho de pausar o eliminar la cuenta en caso de incumplimiento de pagos, uso indebido del servicio, o incumplimiento de cualquier t√©rmino y condici√≥n aqu√≠ establecido.</strong></p>
        <p>3. El prestador es el √∫nico responsable del cumplimiento de las normativas locales vigentes relacionadas con la actividad de pr√©stamo de dinero.</p>
        <p>4. Los datos almacenados se tratar√°n conforme a la Ley 25.326 de Protecci√≥n de Datos Personales.</p>
        <p>5. El uso de la firma electr√≥nica tiene plena validez seg√∫n la Ley 25.506.</p>
        <p>6. La plataforma act√∫a √∫nicamente como herramienta de gesti√≥n y no es parte de los contratos de pr√©stamo entre el prestador y sus clientes.</p>
      </div>

      <label class="ob-consent-check">
        <input type="checkbox" id="obConsentCheck"/>
        <span>Le√≠ y acepto los T√©rminos de Uso, incluyendo que la plataforma puede pausar o eliminar mi cuenta por incumplimiento de pagos o t√©rminos del servicio.</span>
      </label>

      <div style="margin-bottom:10px">
        <div style="font-size:11px;font-weight:700;color:var(--ice);text-transform:uppercase;letter-spacing:.9px;margin-bottom:8px">Firma digital (Ley 25.506)</div>
        <div class="ob-sig-wrap">
          <canvas id="obSigCanvas"></canvas>
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="btnObClearSig" class="btn-outline btn-sm">Borrar firma</button>
          <span style="font-size:11px;color:var(--muted);align-self:center">Firm√° con el dedo o el mouse</span>
        </div>
      </div>

      <div class="ob-nav">
        <button id="btnObStep1" class="btn-primary" style="flex:1">Continuar al paso 2 ‚Üí</button>
      </div>
    </div>

    <!-- PASO 2 -->
    <div class="ob-content" id="obContent2">
      <div class="ob-title">Configur√° tu negocio</div>
      <div class="ob-subtitle">Estos datos aparecer√°n en tus contratos y en el portal de clientes.</div>

      <div class="field"><label>Nombre del negocio</label><input id="obAppName" placeholder="DineroYa / Pr√©stamos P√©rez"/></div>
      <div class="field"><label>Ciudad de operaci√≥n</label><input id="obCity" placeholder="R√≠o Gallegos, Santa Cruz"/></div>
      
      <div class="input-row">
        <div class="field"><label>TNA % (tasa nominal anual)</label><input id="obTna" inputmode="numeric" class="mono" placeholder="100"/></div>
        <div class="field"><label>D√≠a de vencimiento (1-28)</label><input id="obDueDay" inputmode="numeric" placeholder="10"/></div>
      </div>
      
      <div class="input-row">
        <div class="field"><label>% Gastos administrativos</label><input id="obExpenses" inputmode="numeric" placeholder="0" class="mono"/><p class="field-hint">0 = sin descuento al entregar el capital.</p></div>
        <div class="field"><label>WhatsApp (ej: 5492966123456)</label><input id="obWa" inputmode="tel" placeholder="5492966123456"/></div>
      </div>

      <div class="ob-nav">
        <button id="btnObBack1" class="btn-outline" style="flex:0 0 auto">‚Üê Atr√°s</button>
        <button id="btnObStep2" class="btn-primary" style="flex:1">Continuar al paso 3 ‚Üí</button>
      </div>
    </div>

    <!-- PASO 3 -->
    <div class="ob-content" id="obContent3">
      <div class="ob-title">M√©todo de cobro de cuotas</div>
      <div class="ob-subtitle">Eleg√≠ c√≥mo van a pagar tus clientes. Pod√©s cambiarlo despu√©s desde Configuraci√≥n.</div>

      <div class="payment-method-selector">
        <div class="pm-option selected" id="pmOptMP" onclick="window.selectPayMethod('mp')">
          <div class="pm-icon">üí≥</div>
          <div class="pm-name">Mercado Pago</div>
          <div class="pm-desc">Cobro autom√°tico online. Requiere Access Token.</div>
        </div>
        <div class="pm-option" id="pmOptManual" onclick="window.selectPayMethod('manual')">
          <div class="pm-icon">üè¶</div>
          <div class="pm-name">Transferencia manual</div>
          <div class="pm-desc">El cliente transfiere y sube comprobante. Vos lo verific√°s.</div>
        </div>
      </div>

      <div id="obMpFields">
        <div class="field"><label>Access Token de producci√≥n</label><input id="obMpToken" type="password" placeholder="APP_USR-xxxxxxxxxxxx"/><p class="field-hint">Obtenelo en Mercado Pago ‚Üí Tu negocio ‚Üí Credenciales.</p></div>
        <div class="field"><label>Public Key</label><input id="obMpPublicKey" placeholder="APP_USR-xxxxxxxxxxxx"/></div>
      </div>

      <div id="obManualMsg" style="display:none;padding:14px;background:rgba(245,158,11,.06);border:1px solid rgba(245,158,11,.2);border-radius:12px;margin-bottom:16px">
        <p style="font-size:13px;color:#fbbf24;font-weight:700;margin-bottom:4px">üìã Modo transferencia manual activo</p>
        <p style="font-size:12px;color:var(--muted);line-height:1.55">Tus clientes ver√°n instrucciones para transferir y subir comprobante. Vos los aprob√°s desde el panel de Comprobantes.</p>
      </div>

      <div class="ob-nav">
        <button id="btnObBack2" class="btn-outline" style="flex:0 0 auto">‚Üê Atr√°s</button>
        <button id="btnObFinish" class="btn-primary" style="flex:1;background:linear-gradient(135deg,#059669,var(--ok))">‚úì Crear mi cuenta</button>
      </div>
    </div>
  </div>
</div>

<!-- ============================================
     TOAST CONTAINER
     ============================================ -->
<div class="toast-container" id="toastContainer"></div>

<!-- ============================================
     SCRIPTS - FUNCIONES GLOBALES
     ============================================ -->
<script>
// ============================================
// FUNCIONES GLOBALES PARA ONBOARDING
// ============================================
window.nextStep = function(step) {
  [1,2,3].forEach(s => {
    const stepEl = document.getElementById(`obStep${s}`);
    const contentEl = document.getElementById(`obContent${s}`);
    if (stepEl && contentEl) {
      stepEl.className = s === step ? 'ob-step active' : s < step ? 'ob-step done' : 'ob-step';
      contentEl.className = s === step ? 'ob-content active' : 'ob-content';
    }
  });
};

window.prevStep = function(step) {
  if (step - 1 >= 1) window.nextStep(step - 1);
};

window.selectPayMethod = function(method) {
  document.getElementById('pmOptMP')?.classList.toggle('selected', method === 'mp');
  document.getElementById('pmOptManual')?.classList.toggle('selected', method === 'manual');
  document.getElementById('obMpFields').style.display = method === 'mp' ? 'block' : 'none';
  document.getElementById('obManualMsg').style.display = method === 'manual' ? 'block' : 'none';
};

window.handleSignup = function() {
  document.getElementById('landingView').style.display = 'none';
  document.getElementById('onboardingOverlay').style.display = 'flex';
};

// ============================================
// INICIALIZACI√ìN DE BOTONES DEL ONBOARDING
// ============================================
document.addEventListener('DOMContentLoaded', function() {
  // Paso 1
  document.getElementById('btnObStep1')?.addEventListener('click', function() {
    const name = document.getElementById('obName')?.value.trim();
    const dni = document.getElementById('obDni')?.value.trim();
    const email = document.getElementById('obEmail')?.value.trim();
    
    if (!name || !dni || !email) {
      alert('Complet√° nombre, DNI y email');
      return;
    }
    
    const canvas = document.getElementById('obSigCanvas');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
      const hasSignature = Array.from(imgData).some((v, i) => i % 4 === 3 && v > 0);
      
      if (!hasSignature) {
        alert('Dibuj√° tu firma antes de continuar');
        return;
      }
    }
    
    if (!document.getElementById('obConsentCheck')?.checked) {
      alert('Deb√©s aceptar los t√©rminos de uso');
      return;
    }
    
    window.nextStep(2);
  });
  
  // Volver a paso 1
  document.getElementById('btnObBack1')?.addEventListener('click', function() {
    window.nextStep(1);
  });
  
  // Paso 2
  document.getElementById('btnObStep2')?.addEventListener('click', function() {
    const appName = document.getElementById('obAppName')?.value.trim();
    const tna = document.getElementById('obTna')?.value.trim();
    const dueDay = document.getElementById('obDueDay')?.value.trim();
    
    if (!appName || !tna || !dueDay) {
      alert('Complet√° nombre del negocio, TNA y d√≠a de vencimiento');
      return;
    }
    
    window.nextStep(3);
  });
  
  // Volver a paso 2
  document.getElementById('btnObBack2')?.addEventListener('click', function() {
    window.nextStep(2);
  });
  
  // Finalizar
  document.getElementById('btnObFinish')?.addEventListener('click', function() {
    alert('‚úÖ Cuenta creada con √©xito. Aguard√° la activaci√≥n.');
    document.getElementById('onboardingOverlay').style.display = 'none';
    document.getElementById('landingView').style.display = 'block';
  });
  
  // Bot√≥n SuperAdmin (temporal)
  document.getElementById('btnSuperAdminLogin')?.addEventListener('click', function(e) {
    e.preventDefault();
    alert('Funci√≥n SuperAdmin a implementar en script.js');
  });
  
  // Inicializar canvas de firma
  const canvas = document.getElementById('obSigCanvas');
  if (canvas) {
    canvas.width = canvas.parentElement?.clientWidth || 400;
    canvas.height = 150;
    const ctx = canvas.getContext('2d');
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    
    let drawing = false;
    let lastX = 0, lastY = 0;
    
    function getCoordinates(e) {
      const rect = canvas.getBoundingClientRect();
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const clientY = e.touches ? e.touches[0].clientY : e.clientY;
      return { x: clientX - rect.left, y: clientY - rect.top };
    }
    
    canvas.addEventListener('mousedown', (e) => {
      e.preventDefault();
      drawing = true;
      const coord = getCoordinates(e);
      lastX = coord.x;
      lastY = coord.y;
    });
    
    canvas.addEventListener('mousemove', (e) => {
      if (!drawing) return;
      e.preventDefault();
      const coord = getCoordinates(e);
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(coord.x, coord.y);
      ctx.stroke();
      lastX = coord.x;
      lastY = coord.y;
    });
    
    canvas.addEventListener('mouseup', () => drawing = false);
    canvas.addEventListener('mouseleave', () => drawing = false);
    
    canvas.addEventListener('touchstart', (e) => {
      e.preventDefault();
      drawing = true;
      const coord = getCoordinates(e);
      lastX = coord.x;
      lastY = coord.y;
    });
    
    canvas.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (!drawing) return;
      const coord = getCoordinates(e);
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(coord.x, coord.y);
      ctx.stroke();
      lastX = coord.x;
      lastY = coord.y;
    });
    
    canvas.addEventListener('touchend', () => drawing = false);
  }
  
  // Bot√≥n borrar firma
  document.getElementById('btnObClearSig')?.addEventListener('click', function() {
    const canvas = document.getElementById('obSigCanvas');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
  });
  
  console.log('‚úÖ Funciones de onboarding listas');
});
</script>

<!-- SCRIPT PRINCIPAL MODULAR -->
<script type="module" src="script.js"></script>

</body>
</html>